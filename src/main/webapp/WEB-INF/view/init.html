<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<title>CURRAT</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.js" type="text/javascript"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
	<script>
	  $(function() {
	    $( "#startDatepicker" ).datepicker();
	    $( "#endDatepicker" ).datepicker();
	  });
	</script>
</head>
<body>
	<div class="container-fluid">
		<div class="row">
			<h1>CurRat project by Karol Cyprowski</h1>
		</div>
		<div class="row">
			<form th:action="@{/}" method="post">
				<fieldset>
					<div class="col-md-3">
						<p>Start date: <input type="text" id="startDatepicker" name="startDate" th:value="${startDate}"></input></p>
					</div>
					<div class="col-md-3">
						<p>End date: <input type="text" id="endDatepicker" name="endDate" th:value="${endDate}"></input></p>
					</div>
					<div class="col-md-3">
						<button type="submit">Show charts</button>
					</div>
				</fieldset>
			</form>
		</div>
		<div class="row">
			<div class="col-md-9">
				<canvas id="myChart" width="200" height="200">
				</canvas>
			</div>
			<div class="col-md-3">
				<ul id="codesCheckboxList">
					<li th:each="code, index : ${codes}" name="checkboxElement">
						<input type="checkbox" />
						<label th:text="${code}">Test</label>
					</li>
				</ul>
			</div>
		</div>
	</div>
	
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	
	<script src="js/chart.js"></script>
	<script th:inline="javascript">
	/*<![CDATA[*/
		var timeSeriesMap = [[${timeSeries}]];
		setTimeSeriesMap(timeSeriesMap);
		initTimeSeriesAndCurrencyLabels();
		var dateLabels = [[${dateLabels}]];;
		setDateLabels(dateLabels);
		renderChart();
		addListenersToCheckboxElements();
	/*]]>*/
	</script>
</body>
</html>